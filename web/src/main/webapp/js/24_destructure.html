<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JavaScript</title>
</head>
<body>
	<h1>구조분해할당(Destructuring Assignment )</h1>
	<hr>
	<p>구조분해할당 : Object 객체 또는 Array 객체의 요소를 해체하여 요소값을 개별적인 변수의 저장하여 제공하기 위한 기능</p>
	
	<script type="text/javascript">
	
	/* 구조분해할당을 사용하는 방법 - 1
	var array=["홍길동","임꺽정","전우치"];
	
	var one=array[0];
	var two=array[1];
	var three=array[2];
	
	alert("one = "+one+", two = "+two+", three = "+three); // 결과 >> one = 홍길동, two = 임꺽정, three = 전우치
	*/
	
	
	/* 구조분해할당을 사용하는 방법 - 2 (1보다 간단) 
	//Array 객체의 요소값을 차례대로 제공받아 변수에 저장
 	  -형식) var [변수명, 변수면, ... ] = Array 객체
	
 	var [one,two,three] = array;
 	  
 	alert("one = "+one+", two = "+two+", three = "+three); // 결과 >> one = 홍길동, two = 임꺽정, three = 전우치
	*/
	
	
	
	/* 구조분해할당을 사용하는 방법 - 3 
	//2와 다르게 처음부터 구조분해할당하는 코드
	
	var[one,two,three] = ["홍길동","임꺽정","전우치"];
	alert("one = "+one+", two = "+two+", three = "+three); // 결과 >> one = 홍길동, two = 임꺽정, three = 전우치
	*/
	
	
	/*구조분해할당을 사용하는 방법 - 4
	//Array 객체를 분리 할당할 경우
	
	var[one,two,three="일지매"] = ["홍길동","임꺽정","전우치"];
	alert("one = "+one+", two = "+two+", three = "+three); // 결과 >> one = 홍길동, two = 임꺽정, three = 전우치
	
	var [one,two,three="일지매"] = ["홍길동","임꺽정"];
	alert("one = "+one+", two = "+two+", three = "+three); // 결과 >> one = 홍길동, two = 임꺽정, three = 전우치
	*/
	
	
	/*
	//함수 선언시 매개변수에 전달된 값이 없는 경우 매개변수에 저장된 기본값 설정 가능
	function sum(num1=10, num2=20) {
		return num1+num2;
	}
	
	alert("합계 = "+sum()); // 결과 >> 합계 = 30
	alert("합계 = "+sum(100)) // 결과 >> 합계 = 120
	alert("합계 = "+sum(100,200)) // 결과 >> 합계 = 300
	*/
	
	
	/*
	var [num1,num2] = [10,20]; 
	alert("num1 = "+num1+", num2 = "+num2); // 결과 >> num1 = 10, num2 = 20
	
	//두 변수에 저장된 값을 바꾸어 저장
	[num1,num2] = [num2,num1];
	alert("num1 = "+num1+", num2 = "+num2); // 결과 >> num1 = 20, num2 = 10
	*/
	
	
	
	function returnArray() {
		return [10,20,30]; //Array 객체 반환
	}
	
	//Array 객체를 반환받아 변수에 저장
	var array=returnArray();
	alert(array[0]+", "+array[1]+", "+array[2]); // 결과 >> 10,20,30
	
	
	//Array 객체를 반환받아 Array 객체의 요소값을 변수에 저장
	var[num1,num2,num3] = returnArray();
	alert(num1+", "+num2+", "+num3); // 결과 >> 10,20,30
	
	
	//Array 객체를 반환받아 Array 객체의 요소값 중 필요한 요소값만 변수에 저장 가능
	var [num1,,num3] = returnArray();
	alert(num1+","+","+num3); // 결과 >> 10,,30
	
	
	//... 연산자(전개 연산자)를 사용하여 할당된 나머지 요소값을 Array 객체로 전달받아 저장
	var [num,...num2] =returnArray();
	alert("num1 = "+num1); // 결과 >> num1 = 10
	alert("num2 = "+num2); // 결과 >> num2 = 20,30
	
	
	//Object 객체를 생성하여 변수에 저장
	var student={num:1000, name:"홍길동"};
	alert("학번 = "+student.num+", 이름 = "+student.name); // 결과 >> 학번 = 1000, 이름 = 홍길동
	
	
	//Object 객체의 요소값을 구조 분해하여 개별적인 변수에 저장
	var {num, name} = student;
	alert("학번1 = "+num+", 이름 = "+name);// 결과 >> 학번1 = 1000, 이름 = 홍길동
	
	//변수의 이름의 요소명이 다르게 설정된 경우 에러 발생
	//var [number, name] = student; //에러발생
	//alert("학번 = "+number+", 이름 = "+name); //에러 발생
	
	
	//변수의 이름의 요소명과 다르게 설정하여 사용 가능
	var {num:number, name:irum} = student; 
	alert("학번 = "+number+", 이름 = "+irum); // 결과 >> 학번 = 1000, 이름 = 홍길동
	
	
	var{num:number, name:irum} = {num:1000, name:"홍길동"};
	alert("학번 = "+number+", 이름 = "+irum); // 결과 >> 학번 = 1000, 이름 = 홍길동 
	
	
	var people=[{"name":"홍길동","subject":"Java", "grade":"초급"}
		,{"name":"임꺽정","subject":"Jsp", "grade":"중급"}
		,{"name":"전우치","subject":"Spring", "grade":"고급"}]; //Array 객체[] 안에 요소3개 각각의 요소는 object객체이고 object객체는 이름,과목명,등급 존재
	
	/*방법 - 1
	//[for] 구문 이용하여 하나씩 제공받아 반복 처리
	for(i=0; i<people.length; i++){
		//alert(people[i]); // 결과 >> [object Object] 3번 반복 출력 / people[i]는 object 객체임 
		alert("이름 = "+people[i].name+", 과목명 = "+people[i].subject+", 등급 = "+people[i].grade);
		}
	*/
	
	/*방법 - 2 
	//[for]구문에서 [of]연산자를 사용하여 Array 객체의 요소값(Object 객체)를 하나씩 제공받아 반복 처리 - 향상된 for 문
	for(object of people) {
		alert("이름 = "+object.name+", 과목명 = "+object.subject+", 등급 = "+object.grade);
	}
	*/
	
	/*방법 - 3
	//Array 객체의 요소값(Object 객체)을 구조 분해하여 변수에 저장 
	for({name, subject, grade }of people){
		alert("이름 = "+name+", 과목명 = "+subject+", 등급 = "+grade);

	}
	 */
	 
	
	/*
	for({name:irum, subject:name, grade} of people) {
		alert("이름 = "+irum+", 과목명 = "+name+", 등급 = "+grade);
	}
	*/
	
	
	//방법 -1
	function display(num,name) {
		alert("학번 = "+num+", 이름 = "+name); // 결과 >> 학번 = 1000, 이름 = 홍길동
	}
	
	display(1000, "홍길동"); 
	
	
	//방법 -2
	//매개변수로 Object 객체를 전달받아 요소값을 구조 분해하여 변수에 저장
	function display({num,name}) {
		alert("학번 = "+num+", 이름 = "+name);
	}
	
	//방법 -2-1
	var student={"num":1000, "name":"홍길동"};
	display(student);
	
	//방법 -2-2
	display({"num":1000, "name":"홍길동"});
	
	
	</script>
	
	
	
</body>
</html>